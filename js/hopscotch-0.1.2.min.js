/**!
*
* Copyright 2013 LinkedIn Corp. All rights reserved.
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*     http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
(function(e,t){var n,r,i,s,o,u=window.Sizzle||null,a,f,l,c,h,p=e[t],d="undefined",v=false,m=typeof window.jQuery!==d,g=typeof window.sessionStorage!==d,y=window.document;h={smoothScroll:true,scrollDuration:1e3,scrollTopMargin:200,showCloseButton:true,showPrevButton:false,showNextButton:true,bubbleWidth:280,bubblePadding:15,arrowWidth:20,skipIfNoElement:true,cookieName:"hopscotch.tour.state"};if(p){return}if(!Array.isArray){Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}c=function(){if(v){p.startTour()}};a={addClass:function(e,t){var n,r,i,s,o;if(!e.className){e.className=t}else{r=t.split(/\s+/);n=" "+e.className+" ";for(s=0,o=r.length;s<o;++s){if(n.indexOf(" "+r[s]+" ")<0){n+=r[s]+" "}}e.className=n.replace(/^\s+|\s+$/g,"")}},removeClass:function(e,t){var n,r,i,s,o;r=t.split(/\s+/);n=" "+e.className+" ";for(s=0,o=r.length;s<o;++s){n=n.replace(" "+r[s]+" "," ")}e.className=n.replace(/^\s+|\s+$/g,"")},getPixelValue:function(e){var t=typeof e;if(t==="number"){return e}if(t==="string"){return parseInt(e,10)}return 0},valOrDefault:function(e,t){return typeof e!==d?e:t},invokeCallbackArrayHelper:function(e){var t;if(Array.isArray(e)){t=l[e[0]];if(typeof t==="function"){return t.apply(this,e.slice(1))}}},invokeCallbackArray:function(e){var t,n;if(Array.isArray(e)){if(typeof e[0]==="string"){return a.invokeCallbackArrayHelper(e)}else{for(t=0,n=e.length;t<n;++t){a.invokeCallback(e[t])}}}},invokeCallback:function(e){if(typeof e==="function"){return e()}if(typeof e==="string"&&l[e]){return l[e]()}else{return a.invokeCallbackArray(e)}},invokeEventCallbacks:function(e,t){var n=f[e],r,i,s,o;if(t){return this.invokeCallback(t)}for(s=0,o=n.length;s<o;++s){this.invokeCallback(n[s].cb)}},getScrollTop:function(){var e;if(typeof window.pageYOffset!==d){e=window.pageYOffset}else{e=y.documentElement.scrollTop}return e},getScrollLeft:function(){var e;if(typeof window.pageXOffset!==d){e=window.pageXOffset}else{e=y.documentElement.scrollLeft}return e},getWindowHeight:function(){return window.innerHeight||y.documentElement.clientHeight},getWindowWidth:function(){return window.innerWidth||y.documentElement.clientWidth},addEvtListener:function(e,t,n){return e.addEventListener?e.addEventListener(t,n,false):e.attachEvent("on"+t,n)},removeEvtListener:function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,false):e.detachEvent("on"+t,n)},documentIsReady:function(){return y.readyState==="complete"||y.readyState==="interactive"},evtPreventDefault:function(e){if(e.preventDefault){e.preventDefault()}else if(event){event.returnValue=false}},extend:function(e,t){var n;for(n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}},getStepTargetHelper:function(e){var t;if(/^[#\.]/.test(e)){if(y.querySelector){return y.querySelector(e)}if(m){t=jQuery(e);return t.length?t[0]:null}if(u){t=new u(e);return t.length?t[0]:null}if(/^#[a-zA-Z][\w-_:.]*$/.test(e)){return y.getElementById(e.substring(1))}return null}return y.getElementById(e)},getStepTarget:function(e){var t;if(!e||!e.target){return null}if(typeof e.target==="string"){e.target=a.getStepTargetHelper(e.target);return e.target}else if(Array.isArray(e.target)){var n,r;for(n=0,r=e.target.length;n<r;n++){if(typeof e.target[n]==="string"){t=a.getStepTargetHelper(e.target[n]);if(t){e.target=t;return t}}}return null}return e.target},getI18NString:function(e){return o[e]||s[e]},setState:function(e,t,n){var r="",i;if(g){sessionStorage.setItem(e,t)}else{if(n){i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);r="; expires="+i.toGMTString()}y.cookie=e+"="+t+r+"; path=/"}},getState:function(e){var t=e+"=",n=y.cookie.split(";"),r,i,s;if(g){s=sessionStorage.getItem(e)}else{for(r=0;r<n.length;r++){i=n[r];while(i.charAt(0)===" "){i=i.substring(1,i.length)}if(i.indexOf(t)===0){s=i.substring(t.length,i.length);break}}}return s},clearState:function(e){if(g){sessionStorage.removeItem(e)}else{this.setState(e,"",-1)}}};a.addEvtListener(window,"load",c);f={next:[],prev:[],start:[],end:[],show:[],error:[],close:[]};l={};s={stepNums:null,nextBtn:"Next",prevBtn:"Back",doneBtn:"Done",skipBtn:"Skip",closeTooltip:"Close"};o={};r=function(e){this.init(e)};r.prototype={isShowing:false,currStep:undefined,_createButton:function(e,t){var n=y.createElement("button"),r="hopscotch-nav-button";n.id=e;if(t){n.innerHTML=t}if(e.indexOf("prev")>=0){r+=" prev"}else{r+=" next"}a.addClass(n,r);return n},setPosition:function(e){var t,n,r,i,s,o,u,f=6,l=a.getStepTarget(e),c=this.element,h=this.arrowEl;t=a.getPixelValue(e.width)||this.opt.bubbleWidth;r=a.valOrDefault(e.padding,this.opt.bubblePadding);a.removeClass(c,"fade-in-down fade-in-up fade-in-left fade-in-right");if(!e.placement&&e.orientation){e.placement=e.orientation}i=l.getBoundingClientRect();if(e.placement==="top"){n=c.offsetHeight;s=i.top-n-this.opt.arrowWidth;o=i.left}else if(e.placement==="bottom"){s=i.bottom+this.opt.arrowWidth;o=i.left}else if(e.placement==="left"){s=i.top;o=i.left-t-2*r-2*f-this.opt.arrowWidth}else if(e.placement==="right"){s=i.top;o=i.right+this.opt.arrowWidth}if(e.arrowOffset!=="center"){u=a.getPixelValue(e.arrowOffset)}else{u=e.arrowOffset}if(!u){h.style.top="";h.style.left=""}else if(e.placement==="top"||e.placement==="bottom"){h.style.top="";if(u==="center"){h.style.left=t/2+r-h.offsetWidth/2+"px"}else{h.style.left=u+"px"}}else if(e.placement==="left"||e.placement==="right"){h.style.left="";if(u==="center"){n=n||c.offsetHeight;h.style.top=n/2+r-h.offsetHeight/2+"px"}else{h.style.top=u+"px"}}if(e.xOffset==="center"){o=i.left+l.offsetWidth/2-t/2-r}else{o+=a.getPixelValue(e.xOffset)}if(e.yOffset==="center"){n=n||c.offsetHeight;s=i.top+l.offsetHeight/2-n/2-r}else{s+=a.getPixelValue(e.yOffset)}if(!e.fixedElement){s+=a.getScrollTop();o+=a.getScrollLeft()}c.style.position=e.fixedElement?"fixed":"absolute";c.style.top=s+"px";c.style.left=o+"px"},_initNavButtons:function(){var e=y.createElement("div");this.prevBtnEl=this._createButton("hopscotch-prev",a.getI18NString("prevBtn"));this.nextBtnEl=this._createButton("hopscotch-next",a.getI18NString("nextBtn"));this.doneBtnEl=this._createButton("hopscotch-done",a.getI18NString("doneBtn"));this.ctaBtnEl=this._createButton("hopscotch-cta");a.addClass(this.doneBtnEl,"hide");e.appendChild(this.prevBtnEl);e.appendChild(this.ctaBtnEl);e.appendChild(this.nextBtnEl);e.appendChild(this.doneBtnEl);a.addEvtListener(this.prevBtnEl,"click",function(e){p.prevStep(true)});a.addEvtListener(this.nextBtnEl,"click",function(e){p.nextStep(true)});a.addEvtListener(this.doneBtnEl,"click",function(e){p.endTour()});e.className="hopscotch-actions";this.buttonsEl=e;this.containerEl.appendChild(e);return this},_getCloseFn:function(){var e=this;if(!this.closeFn){this.closeFn=function(t){if(e.opt.onClose){a.invokeCallback(e.opt.onClose)}if(e.opt.id&&!e.opt.isTourBubble){p.getCalloutManager().removeCallout(e.opt.id)}else{e.destroy()}a.evtPreventDefault(t)}}return this.closeFn},initCloseButton:function(){var e=y.createElement("a");e.className="hopscotch-bubble-close";e.href="#";e.title=a.getI18NString("closeTooltip");e.innerHTML=a.getI18NString("closeTooltip");if(this.opt.isTourBubble){a.addEvtListener(e,"click",function(e){var t=p.getCurrStepNum(),n=p.getCurrTour(),r=t===n.steps.length-1;a.invokeEventCallbacks("close");p.endTour(true,r);if(e.preventDefault){e.preventDefault()}else if(event){event.returnValue=false}})}else{a.addEvtListener(e,"click",this._getCloseFn())}if(!a.valOrDefault(this.opt.showCloseButton,true)){a.addClass(e,"hide")}this.closeBtnEl=e;this.containerEl.appendChild(e);return this},_initArrow:function(){var e,t;this.arrowEl=y.createElement("div");this.arrowEl.className="hopscotch-bubble-arrow-container";t=y.createElement("div");t.className="hopscotch-bubble-arrow-border";e=y.createElement("div");e.className="hopscotch-bubble-arrow";this.arrowEl.appendChild(t);this.arrowEl.appendChild(e);this.element.appendChild(this.arrowEl);return this},_setupCTAButton:function(e){var t,n=this;this._showButton(this.ctaBtnEl,!!e.showCTAButton);if(e.showCTAButton&&e.ctaLabel){this.ctaBtnEl.innerHTML=e.ctaLabel;this._ctaFn=function(){if(!n.opt.isTourBubble){p.getCalloutManager().removeCallout(e.id)}if(e.onCTA){a.invokeCallback(e.onCTA)}};a.addEvtListener(this.ctaBtnEl,"click",this._ctaFn)}},_removeCTACallback:function(){if(this.ctaBtnEl&&this._ctaFn){a.removeEvtListener(this.ctaBtnEl,"click",this._ctaFn);this._ctaFn=null}},render:function(e,t,n,r){var i=this.element,s,o,u,f;if(e){this.currStep=e}else if(this.currStep){e=this.currStep}if(!e.placement&&e.orientation){e.placement=e.orientation}s=a.valOrDefault(e.showNextButton,this.opt.showNextButton);o=a.valOrDefault(e.showPrevButton,this.opt.showPrevButton);this.setTitle(e.title||"");this.setContent(e.content||"");if(this.opt.isTourBubble){this.setNum(t)}this.placement=e.placement;this.showPrevButton(this.prevBtnEl&&o&&t>0);this.showNextButton(this.nextBtnEl&&s&&!n);this.nextBtnEl.innerHTML=e.showSkip?a.getI18NString("skipBtn"):a.getI18NString("nextBtn");if(n){a.removeClass(this.doneBtnEl,"hide")}else{a.addClass(this.doneBtnEl,"hide")}this._setupCTAButton(e);this._setArrow(e.placement);u=a.getPixelValue(e.width)||this.opt.bubbleWidth;f=a.valOrDefault(e.padding,this.opt.bubblePadding);this.containerEl.style.width=u+"px";this.containerEl.style.padding=f+"px";i.style.zIndex=e.zindex||"";if(e.placement==="top"){i.style.top="-9999px";i.style.left="-9999px";a.removeClass(i,"hide");this.setPosition(e);a.addClass(i,"hide")}else{this.setPosition(e)}if(r){r(!e.fixedElement)}return this},setTitle:function(e){if(e){this.titleEl.innerHTML=e;a.removeClass(this.titleEl,"hide")}else{a.addClass(this.titleEl,"hide")}return this},setContent:function(e){if(e){this.contentEl.innerHTML=e;a.removeClass(this.contentEl,"hide")}else{a.addClass(this.contentEl,"hide")}return this},setNum:function(e){var t=a.getI18NString("stepNums");if(t&&e<t.length){e=t[e]}else{e=e+1}this.numberEl.innerHTML=e},_setArrow:function(e){a.removeClass(this.arrowEl,"down up right left");if(e==="top"){a.addClass(this.arrowEl,"down")}else if(e==="bottom"){a.addClass(this.arrowEl,"up")}else if(e==="left"){a.addClass(this.arrowEl,"right")}else if(e==="right"){a.addClass(this.arrowEl,"left")}},_getArrowDirection:function(){if(this.placement==="top"){return"down"}if(this.placement==="bottom"){return"up"}if(this.placement==="left"){return"right"}if(this.placement==="right"){return"left"}},show:function(){var e=this,t="fade-in-"+this._getArrowDirection(),n=1e3;a.removeClass(this.element,"hide");a.addClass(this.element,t);setTimeout(function(){a.removeClass(e.element,"invisible")},50);setTimeout(function(){a.removeClass(e.element,t)},n);this.isShowing=true;return this},hide:function(e){var t=this.element;e=a.valOrDefault(e,true);t.style.top="";t.style.left="";if(e){a.addClass(t,"hide");a.removeClass(t,"invisible")}else{a.removeClass(t,"hide");a.addClass(t,"invisible")}a.removeClass(t,"animate fade-in-up fade-in-down fade-in-right fade-in-left");this.isShowing=false;return this},_showButton:function(e,t,n){var r="hide";if(n){r="hide-all"}if(typeof t===d){t=true}if(t){a.removeClass(e,r)}else{a.addClass(e,r)}},showPrevButton:function(e){this._showButton(this.prevBtnEl,e)},showNextButton:function(e){this._showButton(this.nextBtnEl,e)},showCloseButton:function(e){this._showButton(this.closeBtnEl,e)},destroy:function(){var e=this.element;if(e){e.parentNode.removeChild(e)}if(this.closeBtnEl){a.removeEvtListener(this.closeBtnEl,"click",this._getCloseFn())}if(this.ctaBtnEl&&this.onCTA){this._removeCTACallback()}},updateButtons:function(){this.showPrevButton(this.opt.showPrevButton);this.showNextButton(this.opt.showNextButton);this.showCloseButton(this.opt.showCloseButton);this.prevBtnEl.innerHTML=a.getI18NString("prevBtn");this.nextBtnEl.innerHTML=a.getI18NString("nextBtn");this.doneBtnEl.innerHTML=a.getI18NString("doneBtn")},init:function(e){var t=y.createElement("div"),n=y.createElement("div"),r=y.createElement("div"),i=this,s=false,o,u,f;this.element=t;this.containerEl=n;this.titleEl=y.createElement("h3");this.contentEl=y.createElement("div");a.addClass(this.titleEl,"hopscotch-title");a.addClass(this.contentEl,"hopscotch-content");f={showPrevButton:h.showPrevButton,showNextButton:h.showNextButton,bubbleWidth:h.bubbleWidth,bubblePadding:h.bubblePadding,arrowWidth:h.arrowWidth,showNumber:true,isTourBubble:true};e=typeof e===d?{}:e;a.extend(f,e);this.opt=f;t.className="hopscotch-bubble animated";n.className="hopscotch-bubble-container";if(!f.isTourBubble){t.className+=" hopscotch-callout"}if(f.isTourBubble){this.numberEl=y.createElement("span");this.numberEl.className="hopscotch-bubble-number";n.appendChild(this.numberEl)}else{a.addClass(t,"no-number")}r.appendChild(this.titleEl);r.appendChild(this.contentEl);r.className="hopscotch-bubble-content";n.appendChild(r);t.appendChild(n);this._initNavButtons();this.initCloseButton();this._initArrow();o=function(){if(s||!i.isShowing){return}s=true;setTimeout(function(){i.setPosition(i.currStep);s=false},100)};a.addEvtListener(window,"resize",o);this.hide();if(a.documentIsReady()){y.body.appendChild(t)}else{if(y.addEventListener){u=function(){y.removeEventListener("DOMContentLoaded",u);window.removeEventListener("load",u);y.body.appendChild(t)};y.addEventListener("DOMContentLoaded",u,false)}else{u=function(){if(y.readyState==="complete"){y.detachEvent("onreadystatechange",u);window.detachEvent("onload",u);y.body.appendChild(t)}};y.attachEvent("onreadystatechange",u)}a.addEvtListener(window,"load",u)}}};i=function(){var e={};this.createCallout=function(t){var n;if(t.id){if(e[t.id]){throw"Callout by that id already exists. Please choose a unique id."}t.showNextButton=t.showPrevButton=false;t.isTourBubble=false;n=new r(t);e[t.id]=n;if(t.target){n.render(t,null,null,function(){n.show()})}}else{throw"Must specify a callout id."}return n};this.getCallout=function(t){return e[t]};this.removeAllCallouts=function(){var t,n;for(t in e){if(e.hasOwnProperty(t)){this.removeCallout(t)}}};this.removeCallout=function(t){var n=e[t];e[t]=null;if(!n){return}n.destroy()}};n=function(e){var t=this,n,s,u,c,p,g,b,w,E=function(e){if(!n){n=new r(u)}if(e){a.extend(n.opt,{bubblePadding:S("bubblePadding"),bubbleWidth:S("bubbleWidth"),showNextButton:S("showNextButton"),showPrevButton:S("showPrevButton"),showCloseButton:S("showCloseButton"),arrowWidth:S("arrowWidth")});n.updateButtons()}return n},S=function(e){if(typeof u==="undefined"){return h[e]}return a.valOrDefault(u[e],h[e])},x=function(){var e;if(p<0||p>=c.steps.length){e=null}else{e=c.steps[p]}return e},T=function(){t.nextStep()},N=function(e){var t=E(),n=t.element,r=a.getPixelValue(n.style.top),i=r+a.getPixelValue(n.offsetHeight),s=a.getStepTarget(x()),o=s.getBoundingClientRect(),u=o.top+a.getScrollTop(),f=o.bottom+a.getScrollTop(),l=r<u?r:u,c=i>f?i:f,h=a.getScrollTop(),p=h+a.getWindowHeight(),v=l-S("scrollTopMargin"),g,b,w,T,N,C,k;if(l>=h&&(l<=h+S("scrollTopMargin")||c<=p)){if(e){e()}}else if(!S("smoothScroll")){window.scrollTo(0,v);if(e){e()}}else{if(typeof YAHOO!==d&&typeof YAHOO.env!==d&&typeof YAHOO.env.ua!==d&&typeof YAHOO.util!==d&&typeof YAHOO.util.Scroll!==d){g=YAHOO.env.ua.webkit?y.body:y.documentElement;w=YAHOO.util.Easing?YAHOO.util.Easing.easeOut:undefined;b=new YAHOO.util.Scroll(g,{scroll:{to:[0,v]}},S("scrollDuration")/1e3,w);b.onComplete.subscribe(e);b.animate()}else if(m){jQuery("body, html").animate({scrollTop:v},S("scrollDuration"),e)}else{if(v<0){v=0}T=h>l?-1:1;N=Math.abs(h-v)/(S("scrollDuration")/10);k=function(){var t=a.getScrollTop(),n=t+T*N;if(T>0&&n>=v||T<0&&n<=v){n=v;if(e){e()}window.scrollTo(0,n);return}window.scrollTo(0,n);if(a.getScrollTop()===t){if(e){e()}return}setTimeout(k,10)};k()}}},C=function(e,t){var n,r,i;if(p+e>=0&&p+e<c.steps.length){p+=e;r=x();i=function(){n=a.getStepTarget(r);if(n){t(p)}else{a.invokeEventCallbacks("error");C(e,t)}};if(r.delay){setTimeout(i,r.delay)}else{i()}}else{t(-1)}},k=function(e,t){var n=E(),r=this,i,s,o,u;n.hide()._removeCTACallback();e=a.valOrDefault(e,true);i=x();s=i;if(t>0){o=s.multipage}else{o=p>0&&c.steps[p-1].multipage}u=function(n){var r;if(n===-1){return this.endTour(true)}if(e){if(t>0){r=a.invokeEventCallbacks("next",s.onNext)}else{r=a.invokeEventCallbacks("prev",s.onPrev)}}if(o){a.setState(S("cookieName"),c.id+":"+p,1);return}r=a.valOrDefault(r,true);if(r){this.showStep(n)}else{this.endTour(false)}};if(!o&&S("skipIfNoElement")){C(t,function(e){u.call(r,e)})}else if(p+t>=0&&p+t<c.steps.length){p+=t;i=x();if(!a.getStepTarget(i)&&!o){a.invokeEventCallbacks("error");return this.endTour(true,false)}u.call(this,p)}return this},L=function(e){var t={},n,r,i;for(n in e){if(e.hasOwnProperty(n)&&n!=="id"&&n!=="steps"){t[n]=e[n]}}w.call(this,t,true);r=a.getState(S("cookieName"));if(r){i=r.split(":");g=i[0];b=i[1];b=parseInt(b,10)}return this},A=function(e,t){var n,r,i;p=e||0;n=x();r=a.getStepTarget(n);if(r){t(p);return}if(!r){a.invokeEventCallbacks("error");if(S("skipIfNoElement")){C(1,t);return}else{p=-1;t(p)}}},O=function(e){var t=c.steps[e],n=c.steps,r=n.length,i=c.id+":"+e,s=E(),o=a.getStepTarget(t),u,f;f=function(){s.show();a.invokeEventCallbacks("show",t.onShow)};p=e;s.hide(false);u=e===r-1;s.render(t,e,u,function(e){if(e){N(f)}else{f()}if(t.nextOnTargetClick){a.addEvtListener(o,"click",T)}});a.setState(S("cookieName"),i,1)},M=function(e){if(e){this.configure(e)}};this.getCalloutManager=function(){if(typeof s===d){s=new i}return s};this.startTour=function(e,t){var n,r=this;if(!c){c=e;L.call(this,e)}if(typeof t!==d){if(t>=c.steps.length){throw"Specified step number out of bounds."}p=t}if(!a.documentIsReady()){v=true;return this}if(!p&&c.id===g&&typeof b!==d){p=b}else if(!p){p=0}A(p,function(e){var t=e!==-1&&a.getStepTarget(c.steps[e]);if(!t){r.endTour(false,false);return}a.invokeEventCallbacks("start");n=E();n.hide(false);r.isActive=true;if(!a.getStepTarget(x())){a.invokeEventCallbacks("error");if(S("skipIfNoElement")){r.nextStep(false)}}else{r.showStep(e)}});return this};this.showStep=function(e){var t=c.steps[e];if(t.delay){setTimeout(function(){O(e)},t.delay)}else{O(e)}return this};this.prevStep=function(e){k.call(this,e,-1);return this};this.nextStep=function(e){var t=x(),n=a.getStepTarget(t);if(t.nextOnTargetClick){a.removeEvtListener(n,"click",T)}k.call(this,e,1);return this};this.endTour=function(e,t){var n=E();e=a.valOrDefault(e,true);t=a.valOrDefault(t,true);p=0;b=undefined;n.hide();if(e){a.clearState(S("cookieName"))}if(this.isActive){this.isActive=false;if(c&&t){a.invokeEventCallbacks("end")}}this.removeCallbacks(null,true);this.resetDefaultOptions();c=null;return this};this.getCurrTour=function(){return c};this.getCurrTarget=function(){return a.getStepTarget(x())};this.getCurrStepNum=function(){return p};this.listen=function(e,t,n){if(e){f[e].push({cb:t,fromTour:n})}return this};this.unlisten=function(e,t){var n=f[e],r,i;for(r=0,i=n.length;r<i;++r){if(n[r]===t){n.splice(r,1)}}return this};this.removeCallbacks=function(e,t){var n,r,i,s;for(s in f){if(!e||e===s){if(t){n=f[s];for(r=0,i=n.length;r<i;++r){if(n[r].fromTour){n.splice(r--,1);--i}}}else{f[s]=[]}}}return this};this.registerHelper=function(e,t){if(typeof e==="string"&&typeof t==="function"){l[e]=t}};this.unregisterHelper=function(e){l[e]=null};this.invokeHelper=function(e){var t=[],n,r;for(n=1,r=arguments.length;n<r;++n){t.push(arguments[n])}if(l[e]){l[e].call(null,t)}};this.setCookieName=function(e){u.cookieName=e;return this};this.resetDefaultOptions=function(){u={};return this};this.resetDefaultI18N=function(){o={};return this};this.getState=function(){return a.getState(S("cookieName"))};w=function(e,t){var n,r=["next","prev","start","end","show","error","close"],i,s,f,l;if(!u){this.resetDefaultOptions()}a.extend(u,e);if(e){a.extend(o,e.i18n)}for(f=0,l=r.length;f<l;++f){i="on"+r[f].charAt(0).toUpperCase()+r[f].substring(1);if(e[i]){this.listen(r[f],e[i],t)}}n=E(true);return this};this.configure=function(e){return w.call(this,e,false)};M.call(this,e)};p=new n;e[t]=p})(window,"hopscotch")
